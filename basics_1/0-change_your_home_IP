#!/usr/bin/env bash
# Script that changes localhost and facebook.com IPs

# Check if running as root
if [ "$EUID" -ne 0 ]; then
  echo "Please run as root"
  exit 1
fi

# Backup original /etc/hosts
cp /etc/hosts /etc/hosts.bak

# Remove existing entries for localhost and facebook.com
grep -vE "^(127\.0\.0\.1|127\.0\.0\.2|8\.8\.8\.8).*localhost|facebook\.com" /etc/hosts > /tmp/hosts.temp

# Add the new entries
echo "127.0.0.2 localhost" >> /tmp/hosts.temp
echo "8.8.8.8 facebook.com" >> /tmp/hosts.temp

# Move the temp file to /etc/hosts
mv /tmp/hosts.temp /etc/hosts

echo "Updated /etc/hosts:"
cat /etc/hosts
